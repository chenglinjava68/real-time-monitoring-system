#!/bin/bash
docker run --name kafka1 -d --network app-tier  \
-e KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper1:2181   \
-e ALLOW_PLAINTEXT_LISTENER=yes   \
-e KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT \
-e KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,PLAINTEXT_HOST://:29092 \
-e KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka1:9092,PLAINTEXT_HOST://192.168.50.139:29092 \
-p 9092:9092 -p 29092:29092  bitnami/kafka:lates

echo 'creating container kafka2'
docker run --name kafka2 -d --network app-tier  \
-e KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper1:2181   \
-e ALLOW_PLAINTEXT_LISTENER=yes   \
-e KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT \
-e KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,PLAINTEXT_HOST://:29092 \
-e KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka2:9092,PLAINTEXT_HOST://192.168.50.139:29093 \
-p 9093:9092 -p 29093:29092  bitnami/kafka:latest

echo 'creating container kafka3'
docker run --name kafka3 -d --network app-tier   \
-e KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper1:2181   \
-e ALLOW_PLAINTEXT_LISTENER=yes    \
-e KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT \
-e KAFKA_CFG_LISTENERS=PLAINTEXT://:9092,PLAINTEXT_HOST://:29092 \	
-e KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://kafka3:9092,PLAINTEXT_HOST://192.168.50.139:29094 \
-p 9094:9092  -p 29094:29092 bitnami/kafka:latest

